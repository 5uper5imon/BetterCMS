@using BetterCms.Module.Navigation.Content.Resources
@using BetterCms.Module.Navigation.Controllers
@using BetterCms.Module.Navigation.ViewModels.Sitemap
@using BetterCms.Module.Root.Mvc.Helpers
@using Microsoft.Web.Mvc

<div class="bcms-scroll-window" style="height: 1060px;" id="bcms-sitemap-addnewpage">
    <div class="bcms-columns-container">
        <div class="bcms-leftcol">
            <div class="bcms-sidebar-info-block">
                <div class="bcms-content-titles">@NavigationGlobalization.Sitemap_AddNewPageDialog_PageNodeHeader</div>
                <!-- ko with: pageLink -->
                <div data-bind="draggable: $parentContext.$index">
                    <div class="bcms-dropable-page-box" style="position: relative; z-index: 0;">
                        <div class="bcms-drop-button">@NavigationGlobalization.Sitemap_AddNewPageDialog_DragButton</div>
                        <div class="bcms-content-titles">@NavigationGlobalization.Sitemap_AddNewPageDialog_PageName</div>
                        <div class="bcms-dropable-text" data-bind="text: title()"></div>
                        <div class="bcms-content-titles">@NavigationGlobalization.Sitemap_AddNewPageDialog_PageUrl</div>
                        <div class="bcms-dropable-text" data-bind="text: url()"></div>
                    </div>
                </div>
                <!-- /ko -->
                <div>@NavigationGlobalization.Sitemap_AddNewPageDialog_PageNodeFooter</div>
                <div class="bcms-btn-main" data-bind="click: skipClicked">@NavigationGlobalization.Sitemap_AddNewPageDialog_SkipButton</div>
            </div>
        </div>
        <div class="bcms-rightcol">
            <div class="bcms-twocols-title-block">
                <div class="bcms-large-titles">@NavigationGlobalization.Sitemap_AddNewPageDialog_SitemapHeader</div>
            </div>

            <div class="bcms-placement-holder">
                    @* Form is required for unobtrusive validation. *@
                    @using (Html.BeginForm<SitemapController>(f => f.Index(null), FormMethod.Post, new { @id = "bcms-sitemap-form" }))
                    {
                        @Html.MessagesBox("bcms-messages-box")
                        @Html.Partial("Partial/Sitemap", new SitemapNodeViewModel())
                    }
            </div>
        </div>
    </div>
</div>