@import '../../core/variables';

$toolbar-icons: (
                ('H1', $icon-bcms-toolbar-h1),
                ('H2', $icon-bcms-toolbar-h2),
                ('H3', $icon-bcms-toolbar-h3),
                ('H4', $icon-bcms-toolbar-h4),
                ('H5', $icon-bcms-toolbar-h5),
                ('H6', $icon-bcms-toolbar-h6),
                ('Bold', $icon-bcms-toolbar-bold),
                ('Italic', $icon-bcms-toolbar-italic),
                ('ListBullet', $icon-bcms-toolbar-list),
                ('ListNumeric', $icon-bcms-toolbar-number-list),
                ('Picture', $icon-bcms-toolbar-image),
                ('Link', $icon-bcms-toolbar-link),
                ('Quotes', $icon-bcms-toolbar-quote),
                ('Code', $icon-bcms-toolbar-code),
                ('Widget', $icon-bcms-toolbar-widget)
);

%toolbar-extender {
    background: no-repeat center;
}

//module global styles
textarea {
    width: 100%;
    display: block;
    resize: vertical;
    font-size: 12px;
    border: $border-thin-gray;
    font-family: $font-code-family;
    line-height: 18px;
    padding: 10px;
    overflow: auto;
    box-sizing: border-box;

    &:focus {
        outline: none;
    }
}

//module markdown editor
.markItUp {
    &Header {
        @include clearfix();
        border: {
            top: $border-thin-gray;
            right: $border-thin-gray;
            left: $border-thin-gray;
        }
        padding: 6px 8px;
        background: $gray-l30;

        > ul {
            > .markItUpButton {
                height: 26px;
                border: $border-thin-gray;
                float: left;
                min-width: 28px;
                margin-left: 6px;

                &:first-child {
                    margin-left: 0;
                }
            }
        }

        ul {
            margin: 0;
            padding: 0;
        }

        li {
            @include transition(all 200ms);
            box-sizing: border-box;
            list-style: none;
            position: relative;

            &:hover {
                background-color: $gray-l25;

                ul {
                    //fixme temp
                    display: block !important;
                }
            }
        }
    }

    &Button {
        a {
            font: {
                family: $font-arial;
                size: 12px;
            }
            box-sizing: border-box;
            padding: 0 10px;
            height: 100%;
            display: block;
            text-indent: -999em;
            overflow: hidden;
            line-height: 24px;
            color: $gray-l65;

            &:hover {
                text-decoration: none;
            }
        }
    }

    &DropMenu {
        > a {
            text-indent: 0;
        }

        > ul {
            display: none;
            position: absolute;
            top: 100%;
            max-height: 170px;
            overflow-y: auto;
            right: 0;
            padding: 0;
            width: 200px;
            background-color: $white;
            border: $border-thin-gray;
            z-index: 50;

            li {
                margin: 3px;
                padding: 0;
            }

            a {
                @include transition(all 200ms);
                padding: 3px 4px;
                white-space: nowrap;
                text-indent: 0;

                &:hover {
                    border-color: $gray-l40;
                    background-color: $gray-l30;
                    box-shadow: inset 0 0 2px rgba($black, .1);
                }
            }
        }
    }

    &Editor {
        resize: none;
        min-height: 300px;
    }

    &Footer {
        @include clearfix();
        border: {
            right: $border-thin-gray;
            bottom: $border-thin-gray;
            left: $border-thin-gray;
        }
        padding: 6px 8px 2px;
        position: relative;
        background-color: $gray-l30;
    }

    &ResizeHandle {
        overflow: hidden;
        border: {
            width: 10px 10px 0 0;
            color: transparent $dark transparent transparent;
            style: dashed solid dashed dashed;
        }
        margin-top: 6px;
        margin-bottom: 2px;
        cursor: se-resize;
        float: right;
        margin-right: -4px;
    }

    &Separator {
        display: none;
    }
}

@each $name, $icon in $toolbar-icons {
    .markItUpButton#{$name} {
        a {
            @extend %toolbar-extender;
            background-image: url($icon);
            width: 28px;
        }
    }
}

//module buttons override
.markItUpButton {
    &Widget {
        a {
            width: auto;
            //fixme remove important after sass review
            padding-left: 25px !important;
            text-indent: 0 !important;
            background-position: 5px center;
        }
    }
}

//fixme check if we need this
//.markItUpPreviewFrame	{
//    overflow:auto;
//    background-color:#FFF;
//    width:99.9%;
//    height:300px;
//    margin:5px 0;
//}

//module CKEditor
//.cke {
//    &_path {
//        margin: -2px 0 2px;
//    }
//
//    &_path_item,
//    &_path_empty {
//        padding: 3px 4px;
//        margin-right: 2px;
//        cursor: default;
//        text-decoration: none;
//        outline: 0;
//        border: 0;
//        color: #4c4c4c;
//        text-shadow: 0 1px 0 #fff;
//        font-weight: bold;
//        font-size: 11px;
//    }
//
//    &_top {
//        @include clearfix();
//        display: block;
//        border-bottom: 1px solid #c6c6c6;
//        padding: 6px 8px;
//        background: #f5f5f5;
//    }
//
//    &_float .cke_top {
//        border: 1px solid #c6c6c6;
//        border-bottom-color: #999;
//    }
//
//    &_bottom {
//        @include clearfix();
//        display: block;
//        padding: 6px 8px 2px;
//        position: relative;
//        border-top: 1px solid #c6c6c6;
//        background: #f5f5f5;
//    }
//
//    &_toolgroup {
//        float: left;
//        margin: 0 6px 0 0;
//        border: 1px solid #c6c6c6;
//        background: #f5f5f5;
//    }
//
//    &_button {
//        height: 18px;
//        padding: 4px 6px;
//        outline: 0;
//        cursor: pointer;
//        float: left;
//        border: 0;
//
//        &_label {
//            display: none;
//            padding-left: 3px;
//            margin-top: 1px;
//            line-height: 17px;
//            vertical-align: middle;
//            float: left;
//            color: #474747;
//            font-size: 12px;
//            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
//        }
//    }
//
//    &_combo {
//        &_button {
//            display: inline-block;
//            float: left;
//            margin: 0 6px 0 0;
//            border: 1px solid #c6c6c6;
//            background: #f5f5f5;
//            cursor: pointer;
//        }
//
//        &_text {
//            line-height: 26px;
//            padding-left: 10px;
//            text-overflow: ellipsis;
//            overflow: hidden;
//            font-size: 12px;
//            float: left;
//            color: #474747;
//            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
//        }
//
//        &_open {
//            display: inline-block;
//            font-size: 0;
//            height: 19px;
//            line-height: 17px;
//            margin: 1px 7px 1px;
//            width: 5px;
//        }
//    }
//}
