@using BetterCms.Core.Modules.Projections
@using BetterCms.Module.Root.Mvc
@model BetterCms.Module.Root.Models.SiteSettingsMenu.SiteSettingsContainerViewModel

<div id="bcms-site-settings" class="bcms-scroll-window">
    <div id="bcms-site-settings-placeholder"> </div>

    <div class="bcms-settings-menu" id="bcms-site-settings-menu">
        <!---<div class="bcms-links-block">  !-->
        <div class="bcms-settings-separator"></div>
        @{
            var lastItemIsHr = true;
            foreach (var menuItem in Model.MenuItems.Projections)
            {
                if (menuItem is SeparatorProjection)
                {
                    if (!lastItemIsHr)
                    {
                        lastItemIsHr = true;
                    }
                }
                else
                {
                    if (menuItem.Render(Model.MenuItems.Page, (ViewContext.Controller as CmsControllerBase).SecurityService, Html))
                    {
                        lastItemIsHr = false;
                    }
                }
            }
        }
    </div>
</div>
