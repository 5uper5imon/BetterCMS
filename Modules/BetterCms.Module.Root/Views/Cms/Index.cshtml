@using BetterCms.Module.Root.Mvc.Helpers

@model BetterCms.Module.Root.ViewModels.Cms.RenderPageViewModel

@{
    ViewBag.Title = Model.Title;

    if (Model.LayoutPath != null && !string.IsNullOrEmpty(Model.LayoutPath))
    {
        Layout = Model.LayoutPath;
    }
    else
    {
        Layout = "~/Areas/bcms-Root/Views/Shared/BaseLayout.cshtml";
    }   
}

@{
    // An algorithm to render a page:
    /*
     1. If page has a master page, pass master page for rendering
     2. Chech recursively if page has more master pages
     3. Renderer should return string. Layout should be normal layout or empty page
     4. Create an interface for rendering:
     * Get Layout: normal layout or empty page
     * Get Regions: normal regions or content regions
     * Render method
     
     
     */
    
    
    // Render regions and contents.
    Html.RenderSectionContents(this, Model);
}