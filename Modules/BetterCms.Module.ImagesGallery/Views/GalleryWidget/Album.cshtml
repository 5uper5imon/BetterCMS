@model BetterCms.Module.ImagesGallery.ViewModels.AlbumViewModel

<style>
    .bcms-gallery-back-link {
        cursor: pointer;
        float: right;
        font-size: 15px;
        font-weight: 400;
    }

    .bcms-gallery-image-holder {
        -moz-box-sizing: border-box;
        border: 1px solid #ECECEC;
        float: left;
        height: 198px;
        margin: 0 0 1px 1px;
        overflow: hidden;
        position: relative;
        width: 310px;
    }

        .bcms-gallery-image-holder:first-child {
            margin-left: 0;
        }

        .bcms-gallery-image-holder > img {
            max-width: 310px;
        }

        .bcms-gallery-image-holder:hover {
            border-color: #38393C;
        }

            .bcms-gallery-image-holder:hover .bcms-gallery-image-name {
                height: 51px;
            }

    .bcms-gallery-image-name {
        background: none repeat scroll 0 0 #38393C;
        bottom: 0;
        height: 0;
        left: 0;
        padding: 0 16px;
        position: absolute;
        transition: height 0.1s ease-in-out 0s;
        width: 280px;
    }

        .bcms-gallery-image-name h4 {
            color: #2EADD5;
            font-size: 16px;
            line-height: 1.3em;
            margin: 5px 0 0;
        }

        .bcms-gallery-image-name span {
            color: #B5B5B5;
            font-size: 12px;
            margin-right: 7px;
        }

    .bcms-gallery-title time {
        display: block;
        font-weight: 400;
        line-height: 16px;
    }
</style>

<h1 class="bcms-gallery-title">
    @Model.Title <a class="bcms-gallery-back-link" href="@Model.Url">< Back</a>
    <time datetime="@Model.LastUpdateDate">@Model.LastUpdateDate</time>
</h1>

@{
    var i = 0;
    var l = Model.Images.Count;
    
    foreach (var image in Model.Images)
    {
        if (i % 3 == 0)
        {
            @:<section>
        }
        
        <div class="bcms-gallery-image-holder">
            <img src="@image.Url" alt="@image.Caption" />
            <div class="bcms-gallery-image-name">
                <h4><a href="@image.Url" target="blank">@image.Caption</a></h4>
            </div>
        </div>

        i++;
    
        if (i % 3 == 0 || i == l)
        {
            @:</section>
        }
    }
}
