bettercms.define("bcms.images.gallery",["bcms.jquery","bcms","bcms.siteSettings","bcms.dynamicContent","bcms.ko.extenders","bcms.ko.grid","bcms.options"],function(a,d,o,e,i,j,m){var f={},n={},k={loadSiteSettingsAlbumsUrl:null,loadAlbumsUrl:null,saveAlbumUrl:null,deleteAlbumUrl:null},g={deleteAlbumDialogTitle:null};f.links=k;f.globalization=g;f.selectors=n;var b=(function(p){d.extendsClass(q,p);function q(r,t,s){p.call(this,r,k.loadAlbumsUrl,t,s);}q.prototype.createItem=function(r){var s=new c(this,r);return s;};return q;})(j.ListViewModel);var c=(function(p){d.extendsClass(q,p);function q(s,r){p.call(this,s,r);var t=this;t.title=i.observable().extend({required:"",title:"",maxLength:{maxLength:i.maxLength.name}});t.registerFields(t.title);t.title(r.Title);}q.prototype.getDeleteConfirmationMessage=function(){return a.format(g.deleteAlbumDialogTitle,this.title());};q.prototype.getSaveParams=function(){var r=p.prototype.getSaveParams.call(this);r.Title=this.title();return r;};return q;})(j.ItemViewModel);function h(r){var p=o.getMainContainer(),q=(r.Success==true)?r.Data:{};var s=new b(p,q.Items,q.GridOptions);s.deleteUrl=k.deleteAlbumUrl;s.saveUrl=k.saveAlbumUrl;i.applyBindings(s,p.get(0));}f.loadSiteSettingsAlbums=function(){e.bindSiteSettings(o,k.loadSiteSettingsAlbumsUrl,{contentAvailable:h});};function l(p){p("AAALLLBBUUUMM");}f.init=function(){console.log("Initializing bcms.images.gallery module.");m.registerCustomOption("images-gallery-album",l);};d.registerInit(f.init);return f;});